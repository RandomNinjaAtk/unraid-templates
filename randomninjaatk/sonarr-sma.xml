<?xml version="1.0"?>
<Container version="2">
  <Beta>True</Beta>
  <Name>sonarr-sma</Name>
  <Repository>randomninjaatk/sonarr-sma</Repository>
  <Branch>
    <Tag>latest</Tag>
    <TagDescription>Sonarr (V3) + SMA + FFMPEG</TagDescription>
  </Branch>
  <Branch>
    <Tag>nvidia</Tag>
    <TagDescription>Sonarr (V3) + SMA + FFMPEG w/ nvidia</TagDescription>
  </Branch>
  <Registry>https://hub.docker.com/r/randomninjaatk/sonarr-sma</Registry>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://forums.unraid.net/topic/89667-support-randomninjaatk-sonarr-sma</Support>
  <Project>https://github.com/RandomNinjaAtk/docker-sonarr-sma</Project>
  <Category>Downloaders: MediaApp:Video</Category>
  <TemplateURL>https://raw.githubusercontent.com/RandomNinjaAtk/unraid-templates/master/randomninjaatk/sonarr-sma.xml</TemplateURL>
  <Icon>https://raw.githubusercontent.com/RandomNinjaAtk/unraid-templates/master/randomninjaatk/img/sonarr.png</Icon>
  <Overview>Sonarr is a PVR for Usenet and BitTorrent users. It can monitor multiple RSS feeds for new episodes of your favorite shows and will grab, sort and rename them. This comes bundled with sickbeard_mp4_automator script, that can be found here: https://github.com/mdhiggins/sickbeard_mp4_automator[br][br][b][u][span style='color: #E80000;']Nvidia GPU Use[/span][/u][/b][br]Using the Unraid Nvidia Plugin to install a version of Unraid with the Nvidia Drivers installed and[br] add [b]--runtime=nvidia[/b] to [b]"extra parameters"[/b] (switch on advanced view) and[br]copy your [b]GPU UUID[/b] to [b]NVIDIA_VISIBLE_DEVICES.[/b][br][br][b][u][span style='color: #E80000;']Intel GPU Use[/span][/u][/b][br]Edit your [b]go[/b] file to include:[br][b]modprobe i915[br][/b], save and reboot, then [br]add [b]--device=/dev/dri[/b] to [b]"extra parameters"[/b] (switch on advanced view)</Overview>
  <Description>Sonarr is a PVR for Usenet and BitTorrent users. It can monitor multiple RSS feeds for new episodes of your favorite shows and will grab, sort and rename them. This comes bundled with sickbeard_mp4_automator script, that can be found here: https://github.com/mdhiggins/sickbeard_mp4_automator</Description>
  <MyIP/>
  <DonateText/>
  <DonateLink>https://github.com/sponsors/RandomNinjaAtk</DonateLink>
  <DonateImg/>
  <WebUI>http://[IP]:[PORT:8989]</WebUI>
  <ExtraParams/>
  <PostArgs/>
  <Network>bridge</Network>
  <Config Name="Host Port for 8989" Target="8989" Default="8989" Mode="tcp" Description="Container Port: 8989" Type="Port" Display="always-hide" Required="true" Mask="false"/>
  <Config Name="Host Path for /config" Target="/config" Default="" Mode="rw" Description="Container Path: /config" Type="Path" Display="always-hide" Required="true" Mask="false"/>
  <Config Name="Host Path for /dev/rtc" Target="/dev/rtc" Default="/dev/rtc" Mode="rw" Description="Container Path: /dev/rtc" Type="Path" Display="always-hide" Required="true" Mask="false"/>
  <Config Name="Host Path for /storage" Target="/storage" Default="" Mode="rw" Description="Container Path: /storage" Type="Path" Display="always-hide" Required="true" Mask="false"/>
  <Config Name="SMA Update" Target="UPDATE_SMA" Default="FALSE" Mode="" Description="TRUE = enabled :: Update SMA on container startup" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Converter: threads" Target="CONVERTER_THREADS" Default="0" Mode="" Description="FFMpeg threads, corresponds to threads parameter" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Converter: output-format" Target="CONVERTER_OUTPUT_EXTENSION" Default="mp4" Mode="" Description="Wrapped format corresponding to -f in FFmpeg" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Converter: output-extension" Target="CONVERTER_OUTPUT_EXTENSION" Default="mp4" Mode="" Description="File extension for created media" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Converter: sort-streams" Target="SORT_STREAMS" Default="False" Mode="" Description="Sort streams by language preferences and channels" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Converter: process-same-extensions" Target="CONVERTER_PROCESS_SAME_EXTENSIONS" Default="False" Mode="" Description="Run files with the same input and output extensions through the conversion process. Tagging is not effected. If after options are generated all streams are copy conversion will be skipped. Use with caution alongside universal audio and audio copy-original as tracks will keep replicating" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Converter: force-convert" Target="CONVERTER_FORCE_CONVERT" Default="False" Mode="" Description="Force conversion regardless of streams being in appropriate format" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Converter: preopts" Target="CONVERTER_PREOPTS" Default="" Mode="" Description="Additional comma separated FFmpeg options placed before main commands" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Converter: postopts" Target="CONVERTER_POSTOPTS" Default="" Mode="" Description="Additional comma separated FFmpeg options placed after main commands" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Permissions: chmod" Target="PERMISSIONS_CHMOD" Default="0666" Mode="" Description="Base 8 chmod value" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Metadata: relocate-moov" Target="METADATA_RELOCATE_MOV" Default="True" Mode="" Description="Relocate MOOV atom using QTFastStart. MP4 only" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Metadata: tag" Target="METADATA_TAG" Default="True" Mode="" Description="Tag files with metadata from TMDB. MP4 only" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Metadata: tag-language" Target="METADATA_TAG_LANGUAGE" Default="eng" Mode="" Description="Tag language" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Metadata: download-artwork" Target="METADATA_DOWNLOAD_ARTWORK" Default="thumb" Mode="" Description="Download artwork and embed in media. poster, thumb, True, False are valid options" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Metadata: preserve-source-disposition" Target="METADATA_PRESERVE_SOURCE_DISPOSITION" Default="True" Mode="" Description="Maintain disposition elements from source file, set False to have the script set defaults based on sorting and preferences" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Video: codec" Target="VIDEO_CODEC" Default="h264, x264" Mode="" Description="Approved video codecs. Codecs not on this list are converted to the first codec on the list" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Video: bitrate" Target="VIDEO_BITRATE" Default="0" Mode="" Description="Maximum bitrate for video in Kb. Values above this range will be down sampled. 0 for no limit" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Video: crf" Target="VIDEO_CRF" Default="-1" Mode="" Description="CRF value, -1 to disable" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Video: crf-profiles" Target="VIDEO_CRF_PROFILES" Default="" Mode="" Description="See script website: https://github.com/mdhiggins/sickbeard_mp4_automator/wiki/AutoProcess-Settings" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Video: max-width" Target="VIDEO_MAX_WIDTH" Default="0" Mode="" Description="Maximum video width, videos larger will be down sized" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Video: profile" Target="VIDEO_PROFILE" Default="" Mode="" Description="Video profile" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Video: max-level" Target="VIDEO_MAX_LEVEL" Default="0.0" Mode="" Description="Maximum video level, videos above will be down sampled. Format example is 4.1" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Video: pix-fmt" Target="VIDEO_PIX_FMT" Default="" Mode="" Description="Supported pix-fmt list. Formats not on this list are be converted to the first format on the list" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Audio: codec" Target="AUDIO_CODEC" Default="ac3" Mode="" Description="Approved audio codecs. Codecs not on this list are converted to the first codec on the list" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Audio: languages" Target="AUDIO_LANGUAGES" Default="eng" Mode="" Description="Approved audio stream languages. Languages not on this list will not be used. Leave blank to approve all languages" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Audio: default-language" Target="AUDIO_DEFAULT_LANGUAGE" Default="eng" Mode="" Description="If audio stream language is undefined, assumed this language" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Audio: first-stream-of-language" Target="AUDIO_FIRST_STREAM_OF_LANGUAGE" Default="False" Mode="" Description="Only include the first occurrence of an audio stream of language" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Audio: channel-bitrate" Target="AUDIO_CHANNEL_BITRATE" Default="128" Mode="" Description="Bitrate of audio stream per channel. Multiple by number of channels to get stream bitrate. Use 0 to attempt to guess based on source bitrate" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Audio: max-bitrate" Target="AUDIO_MAX_BITRATE" Default="0" Mode="" Description="Maximum audio stream bitrate regardless of channels. 0 for no limit" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Audio: max-channels" Target="AUDIO_MAX_CHANNELS" Default="0" Mode="" Description="Maximum number of audio channels per stream. Streams with more channels will be down sampled" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Audio: prefer-more-channels" Target="AUDIO_PREFER_MORE_CHANNELS" Default="True" Mode="" Description="When sorting source audio streams, prefer higher channel counts" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Audio: default-more-channels" Target="AUDIO_DEFAULT_MORE_CHANNELS" Default="True" Mode="" Description="When setting default audio stream, prefer higher channel counts" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Audio: copy-original" Target="AUDIO_COPY_ORIGINAL" Default="False" Mode="" Description="Always include a copy of the original audio stream" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Universal Audio: codec" Target="UAUDIO_CODEC" Default="aac" Mode="" Description="Approved audio codecs. Codecs not on this list are converted to the first codec on the list" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Universal Audio: channel-bitrate" Target="UAUDIO_CHANNEL_BITRATE" Default="128" Mode="" Description=" 	Bitrate of universal audio stream per channel. Multiple by number of channels to get stream bitrate. Use 0 to attempt to guess based on source bitrate" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Universal Audio: first-stream-only" Target="UAUDIO_FIRST_STREAM_ONLY" Default="False" Mode="" Description="Only create a universal audio stream for the first audio stream encountered" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Universal Audio: move-after" Target="UAUDIO_MOVE_AFTER" Default="False" Mode="" Description="Move universal audio stream after the source stream" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Universal Audio: filter" Target="UAUDIO_FILTER" Default="" Mode="" Description="FFmpeg audio filter. Setting this will not allow copying audio streams" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Subtitle: codec" Target="SUBTITLE_CODEC" Default="mov_text" Mode="" Description="Approved subtitle codecs. Codecs not on this list are converted to the first codec on the list" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Subtitle: codec-image-based" Target="SUBTITLE_CODEC_IMAGE_BASED" Default="" Mode="" Description="Approved image-based subtitle codecs. Codecs not on this list are converted to the first codec on the list" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Subtitle: languages" Target="SUBTITLE_LANGUAGES" Default="eng" Mode="" Description="Approved subtitle stream languages. Languages not on this list will not be used. Leave blank to approve all languages" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Subtitle: default-language" Target="SUBTITLE_DEFAULT_LANGUAGE" Default="eng" Mode="" Description="If subtitle stream language is undefined, assumed this language" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Subtitle: first-stream-of-language" Target="SUBTITLE_FIRST_STREAM_OF_LANGUAGE" Default="False" Mode="" Description="Only include the first occurrence of a subtitle stream of language" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Subtitle: encoding" Target="SUBTITLE_ENCODING" Default="" Mode="" Description="Subtitle encoding format" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Subtitle: burn-subtitles" Target="SUBTITLE_BURN_SUBTITLES" Default="" Mode="" Description="Burns subtitles onto video stream. Valid parameters are true / any, false, default, forced, default, forced. If a valid subtitle for burning is found this will force the video stream to be encoded (cannot copy). Internal subtitles are prioritized over external subtitles. This feature does not support image based subtitle formats" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Subtitle: embed-subs" Target="SUBTITLE_EMBED_SUBS" Default="True" Mode="" Description=" 	Embeds text based subtitles in the output video. External subtitles in the same directory will embedded. If false subtitles will be extracted" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Plex: host" Target="PLEX_HOST" Default="localhost" Mode="" Description="Host" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Plex: port" Target="PLEX_PORT" Default="32400" Mode="" Description="Port" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Plex: refresh" Target="PLEX_REFRESH" Default="False" Mode="" Description="" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="SMA: Plex: token" Target="PLEX_TOKEN" Default="" Mode="" Description="Plex Home Token" Type="Variable" Display="always-hide" Required="false" Mask="false"/>
  <Config Name="PUID" Target="PUID" Default="99" Mode="" Description="Container Variable: PUID" Type="Variable" Display="advanced-hide" Required="false" Mask="false"/>
  <Config Name="PGID" Target="PGID" Default="100" Mode="" Description="Container Variable: PGID" Type="Variable" Display="advanced-hide" Required="false" Mask="false"/>
</Container>
